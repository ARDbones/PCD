\chapter{Stream, File e Lambda expressions}

\section{Stream e \texttt{java.io}}
In Java le operazioni di input e output sono trattate considerando i dati come flusso (stream). Lo stream Ã© un'astrazione dei dispositivi di input/output: si apre lo stream, si leggono/scrivono i dati, si chiude lo stream.

In Java gli stream sono istanze di classi raccolte nel package \texttt{java.io}. Il pacchetto contiene due gerarchie di classi in base al tipo di flusso:
\begin{itemize}
 \item flusso di caratteri, usati per la lettura/scrittura di testo
 \item flusso di byte, usati per la trasmissione di dati in codice binario
\end{itemize}
Alla base delle gerarchie si trovano delle classi astratte con le operazioni di base:

\begin{lstlisting}
class Reader{
	int read()
	int read(char[] buff)
	abstract int read(char[] buff, int off, int cnt)
	int skip(long count)
	abstract void close()
	boolean ready()
}

class Writer{
	void write(char b)
	void write(String r)
	abstract void write(char[] buff, int off, int cnt)
	abstract void close()
	abstract void flush()
}

class InputStream{
	abstract int read()
	int read(byte[] buff)
	int read(byte[] buff, int off, inf cnf)
	int skip(long count)
	void close()
	boolean available()
}

class OutputStream{
	abstract void write(byte b)
	void write(byte[] buff)
	void write(byte[] buff, int off, int cnt)
	void close()
	void flush()
}
\end{lstlisting}

Alcuni gruppi di classi che estendono le precedenti:
\begin{itemize}
\item flussi \texttt{Filter}, che hanno un qualche filtro
\item flussi \texttt{Buffered}, che aggiungono la presenza di un buffer per ridurre gli accessi ai dispositivi di input/output
\item flussi \texttt{Piped}, che sono coppie di flussi in cui si legge in uno e si scrive nell'altro
\end{itemize}

I flussi standard (tastiera e video), sono flussi di byte.

\section{Stream e file}
Quando si trasmette con un file, serve la classe adeguata. Per i caratteri si usa \texttt{FileReader} e \texttt{FileWriter}, mentre per i byte si usa \texttt{FileInputStream} e \texttt{FileOutputStream}.
L'accesso al file puo' essere sequenziale o diretto.

\section{Serializzazione}

